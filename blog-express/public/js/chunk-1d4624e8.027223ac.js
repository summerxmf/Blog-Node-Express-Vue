(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d4624e8"],{"11c3":function(t,e,r){},"498a":function(t,e,r){"use strict";var n=r("23e7"),a=r("58a8").trim,o=r("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),a=r("5899"),o="["+a+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(i,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},b0c0:function(t,e,r){var n=r("83ab"),a=r("9bf2").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,u="name";n&&!(u in o)&&a(o,u,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},c24f:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return s}));r("b0c0"),r("d3b7");var n=r("bc3a"),a=r.n(n),o=function(t,e){return a()({method:"post",url:"/api/user/regist",data:{email:t,password:e},headers:{"Content-Type":"application/json"}}).then((function(t){if(console.log(t),t&&t.data)return t.data;throw new Error("Failed to get the data!")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))},i=function(t,e){return a()({method:"post",url:"/api/user/login",data:{email:t,password:e},headers:{"Content-Type":"application/json"}}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))},s=function(t,e,r){var n=new FormData;return n.append("username",t),n.append("email",e),n.append("avatar",r,r.name),console.log(n.get("avatar")),a()({method:"post",url:"api/user/upload-avatar",data:n,headers:{"Content-type":"multipart/form-data"},anync:!0,contentType:!1,processData:!1}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))}},c8d2:function(t,e,r){var n=r("d039"),a=r("5899"),o="​᠎";t.exports=function(t){return n((function(){return!!a[t]()||o[t]()!=o||a[t].name!==t}))}},d7f8:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"regist"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",attrs:{type:"text",placeholder:"Email address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password",maxlength:"6"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(0),r("button",{on:{click:t.registFun}},[t._v("Join now")])])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"note"},[r("div",{staticClass:"dot"}),r("p",[t._v("Your email address will be used for username")])])}],o=(r("498a"),r("c24f")),i={name:"regist",data:function(){return{email:"",password:""}},methods:{reset:function(){this.email="",this.password="",this.$refs.email.focus()},registFun:function(){var t=this,e=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;if(!e.test(this.email))return this.$swal({title:"Wrong email address",icon:"error",buttons:!1,timer:1e3}),void this.reset();if(""==this.email.trim()||""==this.password.trim())return this.$swal({title:"Empty username or password",icon:"error",buttons:!1,timer:1e3}),void this.reset();var r=/^[0-9]+$/;if(this.password.length<6||!r.test(this.password))return this.$swal({title:"Wrong password",icon:"error",buttons:!1,timer:1e3}),void this.reset();Object(o["b"])(this.email,this.password).then((function(e){if(e&&0===e.errno)t.$router.push({path:"/login"});else{if(e&&-1===e.errno)return t.$swal({title:e.message,icon:"error",buttons:!1,timer:1e3}),void t.reset();t.$swal({title:"Please regist once more",icon:"error",buttons:!1,timer:1e3}),t.reset()}}))}}},s=i,u=(r("e10d"),r("2877")),c=Object(u["a"])(s,n,a,!1,null,"76a91fa6",null);e["default"]=c.exports},e10d:function(t,e,r){"use strict";var n=r("11c3"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-1d4624e8.027223ac.js.map