(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d4624e8"],{"11c3":function(t,e,r){},"498a":function(t,e,r){"use strict";var n=r("23e7"),o=r("58a8").trim,i=r("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),o=r("5899"),i="["+o+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),u=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(a,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},b0c0:function(t,e,r){var n=r("83ab"),o=r("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,u="name";n&&!(u in i)&&o(i,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},c24f:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return a})),r.d(e,"c",(function(){return s}));r("b0c0"),r("d3b7");var n=r("bc3a"),o=r.n(n),i=function(t,e){return o()({method:"post",url:"/api/user/regist",data:{email:t,password:e},headers:{"Content-Type":"application/json"}}).then((function(t){if(console.log(t),t&&t.data)return t.data;throw new Error("Failed to get the data!")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))},a=function(t,e){return o()({method:"post",url:"/api/user/login",data:{email:t,password:e},headers:{"Content-Type":"application/json"}}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))},s=function(t){var e=new FormData;return e.append("file",t,t.name),console.log(e.get("file")),o()({method:"post",url:"/api/user/upload-avatar",data:e,headers:{"Content-type":"multipart/form-data"}}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))}},c8d2:function(t,e,r){var n=r("d039"),o=r("5899"),i="​᠎";t.exports=function(t){return n((function(){return!!o[t]()||i[t]()!=i||o[t].name!==t}))}},d7f8:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"regist"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",attrs:{type:"text",placeholder:"Email address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password",maxlength:"6"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(0),r("button",{on:{click:t.registFun}},[t._v("Join now")])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"note"},[r("div",{staticClass:"dot"}),r("p",[t._v("Your email address will be used for username")])])}],i=(r("498a"),r("c24f")),a={name:"regist",data:function(){return{email:"",password:""}},methods:{reset:function(){this.email="",this.password="",this.$refs.email.focus()},registFun:function(){var t=this,e=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;if(!e.test(this.email))return this.$swal({title:"Wrong email address",icon:"error",buttons:!1,timer:1e3}),void this.reset();if(""==this.email.trim()||""==this.password.trim())return this.$swal({title:"Empty username or password",icon:"error",buttons:!1,timer:1e3}),void this.reset();var r=/^[0-9]+$/;if(this.password.length<6||!r.test(this.password))return this.$swal({title:"Wrong password",icon:"error",buttons:!1,timer:1e3}),void this.reset();Object(i["b"])(this.email,this.password).then((function(e){if(e&&0===e.errno)t.$router.push({path:"/login"});else{if(e&&-1===e.errno)return t.$swal({title:e.message,icon:"error",buttons:!1,timer:1e3}),void t.reset();t.$swal({title:"Please regist once more",icon:"error",buttons:!1,timer:1e3}),t.reset()}}))}}},s=a,u=(r("e10d"),r("2877")),c=Object(u["a"])(s,n,o,!1,null,"76a91fa6",null);e["default"]=c.exports},e10d:function(t,e,r){"use strict";var n=r("11c3"),o=r.n(n);o.a}}]);
//# sourceMappingURL=chunk-1d4624e8.d04ab0d6.js.map