(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41ee393b"],{"498a":function(t,e,n){"use strict";var r=n("23e7"),o=n("58a8").trim,a=n("c8d2");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return o(this)}})},5388:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Email Address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password",maxLength:"6"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{on:{click:t.login}},[t._v("Sign in")])])},o=[],a=(n("498a"),n("c24f")),i=n("db49"),s=n("68fe"),c={name:"",data:function(){return{email:"",password:""}},methods:{login:function(){var t=this,e=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;if(e.test(this.email))if(""!=this.email.trim()&&""!=this.password.trim()){var n=/^[0-9]+$/;this.password.length<6||!n.test(this.password)?this.$swal({title:"Wrong password",icon:"error",buttons:!1,timer:1e3}):Object(a["a"])(this.email,this.password).then((function(e){if(console.log("res",e),e&&0===e.errno)return s["a"].set(i["b"],e.data),void t.$router.push({name:"blog"});t.$swal({title:"Wrong username or password",icon:"error",buttons:!1,timer:1e3})}))}else this.$swal({title:"Empty username or password",icon:"error",buttons:!1,timer:1e3});else this.$swal({title:"Wrong email address",icon:"error",buttons:!1,timer:1e3})}}},u=c,l=(n("aad4"),n("2877")),d=Object(l["a"])(u,r,o,!1,null,"14e02283",null);e["default"]=d.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),o=n("5899"),a="["+o+"]",i=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"68fe":function(t,e,n){"use strict";var r=window.localStorage;function o(t){return JSON.stringify(t)}function a(t){if("string"===typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}}e["a"]={set:function(t,e){void 0!==e&&r.setItem(t,o(e))},get:function(t,e){var n=a(r.getItem(t));return void 0===n?e:n},remove:function(t){r.removeItem(t)},clear:function(){r.clear()}}},"8ac6":function(t,e,n){},aad4:function(t,e,n){"use strict";var r=n("8ac6"),o=n.n(r);o.a},b0c0:function(t,e,n){var r=n("83ab"),o=n("9bf2").f,a=Function.prototype,i=a.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in a)&&o(a,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},c24f:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s}));n("b0c0"),n("d3b7");var r=n("bc3a"),o=n.n(r),a=function(t,e){return o()({method:"post",url:"/api/user/regist",data:{email:t,password:e},headers:{"Content-Type":"application/json"}}).then((function(t){if(console.log(t),t&&t.data)return t.data;throw new Error("Failed to get the data!")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))},i=function(t,e){return o()({method:"post",url:"/api/user/login",data:{email:t,password:e},headers:{"Content-Type":"application/json"}}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))},s=function(t){var e=new FormData;return e.append("file",t,t.name),console.log(e.get("file")),o()({method:"post",url:"/api/user/upload-avatar",data:e,headers:{"Content-type":"multipart/form-data"}}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))}},c8d2:function(t,e,n){var r=n("d039"),o=n("5899"),a="​᠎";t.exports=function(t){return r((function(){return!!o[t]()||a[t]()!=a||o[t].name!==t}))}},db49:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return i}));var r="blog",o="key",a="".concat(r,"-userinfo=").concat(o),i="".concat(r,"-currentblog=").concat(o)}}]);
//# sourceMappingURL=chunk-41ee393b.2d7812f8.js.map