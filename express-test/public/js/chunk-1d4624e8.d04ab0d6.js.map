{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/api/user.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/user/regist.vue?99b8","webpack:///src/components/user/regist.vue","webpack:///./src/components/user/regist.vue?6404","webpack:///./src/components/user/regist.vue","webpack:///./src/components/user/regist.vue?7061"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","regist","email","password","axios","method","url","data","headers","then","res","console","log","Error","catch","err","Promise","resolve","login","uploadAvatar","file","param","FormData","append","name","fails","non","METHOD_NAME","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","ref","attrs","domProps","on","$event","composing","_m","registFun","_v","staticRenderFns","methods","reset","$refs","focus","emailReg","test","$swal","title","icon","buttons","timer","length","reg","errno","path","message","component"],"mappings":"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","file":"js/chunk-1d4624e8.d04ab0d6.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","import axios from 'axios'\r\n\r\nconst regist = (email, password) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: '/api/user/regist',\r\n    data: {\r\n      email,\r\n      password,\r\n    },\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  })\r\n    .then((res) => {\r\n      console.log(res)\r\n      if (res && res.data) {\r\n        return res.data\r\n      }\r\n      throw new Error('Failed to get the data!')\r\n    })\r\n    .catch((err) => {\r\n      // catch error first before send data to front end\r\n      if (err) {\r\n        console.error(err)\r\n      }\r\n    })\r\n    .then((res) => {\r\n      return Promise.resolve(res) // res could be undefined or data\r\n    })\r\n}\r\n\r\nconst login = (email, password) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: '/api/user/login',\r\n    data: {\r\n      email,\r\n      password,\r\n    },\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  })\r\n    .then((res) => {\r\n      if (res && res.data) {\r\n        return res.data\r\n      }\r\n      throw new Error('Failed to get the data')\r\n    })\r\n    .catch((err) => {\r\n      if (err) {\r\n        console.error(err)\r\n      }\r\n    })\r\n    .then((res) => {\r\n      return Promise.resolve(res)\r\n    })\r\n}\r\n\r\nconst uploadAvatar = (file) => {\r\n  let param = new FormData()\r\n  // param.append('userId', id)\r\n  param.append('file', file, file.name)\r\n  console.log(param.get('file'))\r\n  return axios({\r\n    method: 'post',\r\n    url: '/api/user/upload-avatar',\r\n    data: param,\r\n    headers: {\r\n      'Content-type': 'multipart/form-data',\r\n    },\r\n  })\r\n    .then((res) => {\r\n      if (res && res.data) {\r\n        return res.data\r\n      }\r\n      throw new Error('Failed to get the data')\r\n    })\r\n    .catch((err) => {\r\n      if (err) {\r\n        console.error(err)\r\n      }\r\n    })\r\n    .then((res) => {\r\n      return Promise.resolve(res)\r\n    })\r\n}\r\n\r\nexport { regist, login, uploadAvatar }\r\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"regist\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],ref:\"email\",attrs:{\"type\":\"text\",\"placeholder\":\"Email address\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"maxlength\":\"6\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._m(0),_c('button',{on:{\"click\":_vm.registFun}},[_vm._v(\"Join now\")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"note\"},[_c('div',{staticClass:\"dot\"}),_c('p',[_vm._v(\"Your email address will be used for username\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"regist\">\r\n    <input\r\n      type=\"text\"\r\n      placeholder=\"Email address\"\r\n      v-model=\"email\"\r\n      ref=\"email\"\r\n    />\r\n    <input\r\n      type=\"password\"\r\n      placeholder=\"Password\"\r\n      maxlength=\"6\"\r\n      v-model=\"password\"\r\n    />\r\n    <div class=\"note\">\r\n      <div class=\"dot\"></div>\r\n      <p>Your email address will be used for username</p>\r\n    </div>\r\n    <button @click=\"registFun\">Join now</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { regist } from 'api/user'\r\n\r\nexport default {\r\n  name: 'regist',\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n    }\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.email = ''\r\n      this.password = ''\r\n      this.$refs.email.focus()\r\n    },\r\n    registFun() {\r\n      const emailReg = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/\r\n      if (!emailReg.test(this.email)) {\r\n        this.$swal({\r\n          title: 'Wrong email address',\r\n          icon: 'error',\r\n          buttons: false,\r\n          timer: 1000,\r\n        })\r\n        this.reset()\r\n        return\r\n      }\r\n      if (this.email.trim() == '' || this.password.trim() == '') {\r\n        this.$swal({\r\n          title: 'Empty username or password',\r\n          icon: 'error',\r\n          buttons: false,\r\n          timer: 1000,\r\n        })\r\n        this.reset()\r\n        return\r\n      }\r\n      const reg = /^[0-9]+$/\r\n      if (this.password.length < 6 || !reg.test(this.password)) {\r\n        this.$swal({\r\n          title: 'Wrong password',\r\n          icon: 'error',\r\n          buttons: false,\r\n          timer: 1000,\r\n        })\r\n        this.reset()\r\n        return\r\n      }\r\n      regist(this.email, this.password).then((res) => {\r\n        if (res && res.errno === 0) {\r\n          // this.$swal({\r\n          //   title: 'Regist successfull',\r\n          //   icon: 'success',\r\n          //   timer: 1000,\r\n          // })\r\n          this.$router.push({\r\n            path: '/login',\r\n          })\r\n          return\r\n        }\r\n        if (res && res.errno === -1) {\r\n          this.$swal({\r\n            title: res.message,\r\n            icon: 'error',\r\n            buttons: false,\r\n            timer: 1000,\r\n          })\r\n          this.reset()\r\n          return\r\n        }\r\n        this.$swal({\r\n          title: 'Please regist once more',\r\n          icon: 'error',\r\n          buttons: false,\r\n          timer: 1000,\r\n        })\r\n        this.reset()\r\n        return\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~assets/scss/mixins';\r\n@media screen and (min-width: 720px) {\r\n  .regist {\r\n    @include flex-center(column);\r\n    input {\r\n      width: 60%;\r\n      height: 40px;\r\n      padding: 0 5%;\r\n      border-radius: 5px;\r\n      margin-bottom: 20px;\r\n      background-color: rgba(255, 255, 255, 0.4);\r\n      color: #575757;\r\n      &:nth-child(2) {\r\n        margin-bottom: 5px;\r\n      }\r\n      &::placeholder {\r\n        color: #575757;\r\n      }\r\n    }\r\n    button {\r\n      width: 40%;\r\n      height: 40px;\r\n      margin-top: 20px;\r\n      border-radius: 5px;\r\n      background-color: rgba(255, 255, 255, 0.4);\r\n      color: #2c3e50;\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n      &:hover {\r\n        background-color: rgba(255, 255, 255, 0.5);\r\n      }\r\n    }\r\n    .note {\r\n      // width: 80%;\r\n      line-height: 20px;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n\r\n      .dot {\r\n        width: 8px;\r\n        height: 8px;\r\n        background-color: rgb(112, 177, 38);\r\n        border-radius: 50%;\r\n        margin-right: 5px;\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen and (max-width: 719px) {\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./regist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./regist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./regist.vue?vue&type=template&id=76a91fa6&scoped=true&\"\nimport script from \"./regist.vue?vue&type=script&lang=js&\"\nexport * from \"./regist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./regist.vue?vue&type=style&index=0&id=76a91fa6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76a91fa6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./regist.vue?vue&type=style&index=0&id=76a91fa6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./regist.vue?vue&type=style&index=0&id=76a91fa6&lang=scss&scoped=true&\""],"sourceRoot":""}