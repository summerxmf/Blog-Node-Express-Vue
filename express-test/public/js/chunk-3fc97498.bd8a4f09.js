(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fc97498"],{"22b8":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"addBlog"},[o("div",{directives:[{name:"title",rawName:"v-title"}]},[t._v("Blog / Add Blog")]),o("header",[t._m(0),o("div",{staticClass:"rightHead"},[o("p",{staticClass:"back",on:{click:t.goBack}},[t._v("Back to Home")]),o("p",{staticClass:"publish",on:{click:t.publish}},[t._v("Publish")])])]),o("section",{staticClass:"main"},[o("div",{staticClass:"container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.blogTitle,expression:"blogTitle"}],ref:"blogTitle",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.blogTitle},on:{input:function(e){e.target.composing||(t.blogTitle=e.target.value)}}}),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.blogContent,expression:"blogContent"}],attrs:{placeholder:"Content"},domProps:{value:t.blogContent},on:{input:function(e){e.target.composing||(t.blogContent=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.blogKeywords,expression:"blogKeywords"}],attrs:{type:"text",placeholder:"Key Words (Seperate with space)"},domProps:{value:t.blogKeywords},on:{input:function(e){e.target.composing||(t.blogKeywords=e.target.value)}}})])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"leftHead"},[n("img",{attrs:{src:o("4ffd"),alt:"Logo"}}),n("p",[t._v("BLOG / Add Blog")])])}],i=o("864d"),a={name:"addBlog",beforeRouteEnter:function(t,e,o){var n={isLogin:function(){return!0}};console.log("navigation guards..."),n.isLogin()?o():o({name:"user"})},data:function(){return{blogTitle:"",blogContent:"",blogKeywords:""}},created:function(){},methods:{goBack:function(){this.$router.push({name:"blog"})},publish:function(){var t=this,e={title:this.blogTitle,content:this.blogContent,keywords:this.blogKeywords};Object(i["a"])(e).then((function(e){return e&&0===e.errno?(t.$swal({title:"The blog has been published",icon:"success",button:!1,timer:1e3}),void t.reset()):e&&-1===e.errno?(t.$swal({title:"Please sign in first",icon:"error",button:!1,timer:1e3}),void t.$router.push({name:"login"})):(t.$swal({title:"failed",icon:"error",button:!1,timer:1e3}),void t.reset())}))},reset:function(){this.blogTitle="",this.blogContent="",this.blogKeywords="",this.$refs.blogTitle.focus()}}},l=a,s=(o("64ba"),o("2877")),c=Object(s["a"])(l,n,r,!1,null,"371dc6b8",null);e["default"]=c.exports},"4ffd":function(t,e,o){t.exports=o.p+"img/logo.2a5d7db9.png"},"64ba":function(t,e,o){"use strict";var n=o("a8cb"),r=o.n(n);r.a},"864d":function(t,e,o){"use strict";o.d(e,"c",(function(){return i})),o.d(e,"b",(function(){return a})),o.d(e,"a",(function(){return l}));o("d3b7");var n=o("bc3a"),r=o.n(n),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r()({method:"get",url:"/api/blog/list",params:{author:t,keyword:e}}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data!")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))},a=function(t){return r()({method:"get",url:"/api/blog/detail",params:{id:t}}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data!")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))},l=function(t){return r()({method:"post",url:"/api/blog/new",data:t,headers:{"Content-Type":"application/json"}}).then((function(t){if(t&&t.data)return t.data;throw new Error("Failed to get the data!")})).catch((function(t){t&&console.error(t)})).then((function(t){return Promise.resolve(t)}))}},a8cb:function(t,e,o){}}]);
//# sourceMappingURL=chunk-3fc97498.bd8a4f09.js.map